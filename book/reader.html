<!doctype html>

<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Aprenda Clojure de maneira simples, divertida e em Português.">
  <meta name="author" content="Plínio Balduino">

  <title>Descobrindo Clojure - Sobre o autor</title>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="css/page.css" >
</head>

<script type="text/javascript">
  const book = document.getElementById("book");

  const render = {
    "text": (content) => {
      console("text", content);
      return "<span class='text'>" + content + "</span>";
    },
    "chapter": (data) => {
      console.log("chapter", data);
      if(content !== null) {
        for(let l = 0; l < content.length; l++) {
          document.append(reader[data['tag']](data['content']))
        }
      }
    },
    "paragraph": (content) => {
      console.log("paragraph", content);
    },
    "quote": (content) => {
      console.log("quote", content);
    }
  };

  fetch('json/0000.json')
    .then(function(response) {
      return response.json();
    })
    .then(function(json) {
      console.log('content', json['content']);

      for(let i = 0; i < json['content'].length; i++) {
        console.log(i, render[json['content'][i]['tag']]);
        const tag = json['content'][i]['tag'];
        const f = render[tag];
        console.log(tag, f);
        render[json['content'][i]['tag']](json['content'][i]['content']);
      }
    })
</script>

<body>
  <div id="book">
  </div>
</body>

</html>
